"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[353],{4353:function(r,e,n){n.r(e),n.d(e,{default:function(){return g}});var t=n(8683),a=n(5861),c=n(885),i=n(7757),s=n.n(i),o=n(2791),u=n(501),p=n(6871),l=n(6188),h=n(2982),f=n(184),d=function(){var r=(0,o.useState)({actor:[],loading:!1,error:null}),e=(0,c.Z)(r,2),n=e[0],i=e[1],u=(0,p.UO)().id;(0,o.useEffect)((function(){var r=function(){var r=(0,a.Z)(s().mark((function r(){var e,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("fetchMoviesCast"),r.prev=1,i((function(r){return(0,t.Z)((0,t.Z)({},r),{},{loading:!0})})),r.next=5,(0,l.M1)(u);case 5:e=r.sent,n=e.cast,i({actor:(0,h.Z)(n),loading:!1,error:null}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),i({actor:[],loading:!1,error:r.t0});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(){return r.apply(this,arguments)}}();r()}),[u]);var d=n.actor,v=n.loading,x=n.error,g=d.map((function(r){return(0,f.jsxs)("li",{children:[(0,f.jsx)("img",{src:r.profile_path?"https://image.tmdb.org/t/p/w500".concat(r.profile_path):"https://i.pinimg.com/564x/fc/3e/10/fc3e10132be5819982df46baa80224a8.jpg",alt:""}),(0,f.jsx)("p",{children:r.name}),(0,f.jsx)("p",{children:r.character})]},r.id)})),j=d.length>0&&!v&&!x;return(0,f.jsxs)(f.Fragment,{children:[v&&(0,f.jsx)("p",{children:"Search actors"}),x&&!v&&(0,f.jsx)("p",{children:"No actors"}),j?(0,f.jsx)("ul",{children:g}):(0,f.jsx)("p",{children:"No famous actors"})]})},v=function(){var r=(0,o.useState)({review:[],loading:!1,error:null}),e=(0,c.Z)(r,2),n=e[0],i=e[1],u=(0,p.UO)().id;(0,o.useEffect)((function(){var r=function(){var r=(0,a.Z)(s().mark((function r(){var e,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i((function(r){return(0,t.Z)((0,t.Z)({},r),{},{loading:!0})})),r.next=4,(0,l.tx)(u);case 4:e=r.sent,n=e.results,i({review:(0,h.Z)(n),loading:!1,error:null}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),i({review:[],loading:!1,error:r.t0});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();r()}),[u]);var d=n.review,v=n.loading,x=n.error,g=d.map((function(r){return(0,f.jsxs)("li",{children:[(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{children:"Author: "}),r.author]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{children:"Comment: "}),r.content]})]},d.id)})),j=n.length>0&&!v&&!x;return(0,f.jsxs)(f.Fragment,{children:[v&&(0,f.jsx)("p",{children:"Search reviews"}),x&&!v&&(0,f.jsx)("p",{children:"No reviews"}),j?(0,f.jsx)("p",{children:"No reviews"}):(0,f.jsx)("ul",{children:g})]})},x=function(){var r,e=(0,o.useState)({infoMovie:null,loading:!1,error:null}),n=(0,c.Z)(e,2),i=n[0],h=n[1],x=(0,p.UO)().id;(0,o.useEffect)((function(){var r=function(){var r=(0,a.Z)(s().mark((function r(){var e;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,h((function(r){return(0,t.Z)((0,t.Z)({},r),{},{loading:!0})})),r.next=4,(0,l.Pg)(x);case 4:e=r.sent,h({infoMovie:(0,t.Z)({},e),loading:!1,error:null}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),h({infoMovie:null,loading:!1,error:r.t0});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}();r()}),[x]);var g=(0,p.s0)(),j=(0,p.TH)();console.log(j);var m=(null===(r=j.state)||void 0===r?void 0:r.from)||"/",w=i.loading,y=i.error,k=i.infoMovie,Z=k&&!w&&!y;return(0,f.jsxs)("div",{children:[w&&(0,f.jsx)("p",{children:"Making a list..."}),y&&!w&&(0,f.jsx)("p",{children:"Everyone only watches Stranger Things."}),Z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("img",{src:k.poster_path?"https://image.tmdb.org/t/p/w500".concat(k.poster_path):"http://hypeava.ru/uploads/posts/2020-02/1580997108_3.jpg",alt:""}),(0,f.jsx)("h2",{children:k.title}),(0,f.jsxs)("p",{children:["Vote: ",k.vote_average]}),(0,f.jsxs)("p",{children:["Popularity: ",k.popularity]}),(0,f.jsx)("h2",{children:"Overview"}),(0,f.jsx)("p",{children:k.overview})]}),(0,f.jsx)(u.OL,{to:"cast",state:{from:m},children:"Cast"}),(0,f.jsx)(u.OL,{to:"reviews",state:{from:m},children:"Reviews"}),(0,f.jsx)("div",{children:(0,f.jsxs)(p.Z5,{children:[(0,f.jsx)(p.AW,{path:"cast",element:(0,f.jsx)(d,{})}),(0,f.jsx)(p.AW,{path:"reviews",element:(0,f.jsx)(v,{})})]})}),(0,f.jsx)("button",{type:"button",onClick:function(){return g(m)},children:"Back"})]})},g=function(){return(0,f.jsx)("main",{children:(0,f.jsx)(x,{})})}},6188:function(r,e,n){n.d(e,{Hg:function(){return o},M1:function(){return d},Pg:function(){return p},tx:function(){return x},zi:function(){return h}});var t=n(5861),a=n(7757),c=n.n(a),i=n(4569),s=n.n(i)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"ac60926f151e6a5963568dadf02e1e9a"}});function o(){return u.apply(this,arguments)}function u(){return(u=(0,t.Z)(c().mark((function r(){var e,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/trending/all/day");case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function p(r){return l.apply(this,arguments)}function l(){return(l=(0,t.Z)(c().mark((function r(e){var n,t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(e));case 2:return n=r.sent,t=n.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function h(r){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(c().mark((function r(e){var n,t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/search/movie",{params:{query:e,page:1}});case 2:return n=r.sent,t=n.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function d(r){return v.apply(this,arguments)}function v(){return(v=(0,t.Z)(c().mark((function r(e){var n,t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(e,"/credits"));case 2:return n=r.sent,t=n.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function x(r){return g.apply(this,arguments)}function g(){return(g=(0,t.Z)(c().mark((function r(e){var n,t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(e,"/reviews"));case 2:return n=r.sent,t=n.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=353.3171df6a.chunk.js.map
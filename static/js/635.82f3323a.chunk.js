"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[635],{7635:function(r,t,e){e.r(t),e.d(t,{default:function(){return v}});var n=e(2982),a=e(8683),u=e(5861),i=e(885),s=e(7757),c=e.n(s),o=e(2791),p=e(501),l=e(6871),f=e(6188),h=e(184),d=function(){var r=(0,o.useState)({movies:[],loading:!1,error:null}),t=(0,i.Z)(r,2),e=t[0],s=t[1],d=(0,l.TH)();(0,o.useEffect)((function(){var r=function(){var r=(0,u.Z)(c().mark((function r(){var t,e;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s((function(r){return(0,a.Z)((0,a.Z)({},r),{},{loading:!0})})),r.next=4,(0,f.Hg)();case 4:t=r.sent,e=t.results,s({movies:(0,n.Z)(e),loading:!1,error:null}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),s({movies:[],loading:!1,error:r.t0});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();console.log(),r()}),[s]);var v=e.movies.map((function(r){var t;return(0,h.jsx)("li",{children:(0,h.jsxs)(p.rU,{to:"/movies/".concat(r.id),state:{from:d},children:[(0,h.jsx)("img",{src:r.poster_path?"https://image.tmdb.org/t/p/w500".concat(r.poster_path):"http://hypeava.ru/uploads/posts/2020-02/1580997108_3.jpg",alt:r.original_title}),(0,h.jsx)("p",{children:null!==(t=r.name)&&void 0!==t?t:r.title})]})},r.id)})),m=e.loading,g=e.error,x=e.movies.length>0&&!e.loading&&!e.error,w=g&&!m;return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Top movies today"}),m&&(0,h.jsx)("p",{children:"Making a list..."}),w&&(0,h.jsx)("p",{children:"Today there are no popular films. Everyone only watches Stranger Things."}),x&&(0,h.jsx)("ul",{children:v})]})},v=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(d,{})})}},6188:function(r,t,e){e.d(t,{Hg:function(){return c},M1:function(){return d},Pg:function(){return p},tx:function(){return m},zi:function(){return f}});var n=e(5861),a=e(7757),u=e.n(a),i=e(4569),s=e.n(i)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"ac60926f151e6a5963568dadf02e1e9a"}});function c(){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(u().mark((function r(){var t,e;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/trending/all/day");case 2:return t=r.sent,e=t.data,r.abrupt("return",e);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function p(r){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(u().mark((function r(t){var e,n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(t));case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function f(r){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(u().mark((function r(t){var e,n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/search/movie",{params:{query:t,page:1}});case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function d(r){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(u().mark((function r(t){var e,n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(t,"/credits"));case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function m(r){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(u().mark((function r(t){var e,n;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(t,"/reviews"));case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=635.82f3323a.chunk.js.map